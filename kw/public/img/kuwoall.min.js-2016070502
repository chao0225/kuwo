///<jscompress sourcefile="properties.js"/*tpa=http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/properties.js*/ />
/*
 * Created By Jiang Wanyu
 * 
 * 项目常量
 */
 
//---------------------------------------------------------------------------------
///<jscompress sourcefile="utils.js"/*tpa=http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/utils.js*/ />
/*Created By Jiang Wanyu
 * 
 * 通用工具类---
 */


// 操作系统	---------------------------------------------------------------------------------------------------------------------------
var PROPERTIES={};PROPERTIES.timestamp=(new Date).getTime();PROPERTIES.projectname="/vip";PROPERTIES.debug=!1;PROPERTIES.userinfo={};PROPERTIES.loginNew=!1;PROPERTIES.priceDefine={vip1:8,vip2:12,vip3:4,vip4:10,discount:.95};PROPERTIES.goodsDescription={singleSong:"\u5355\u66f2\u8d2d\u4e70",singleAlbum:"\u4e13\u8f91\u8d2d\u4e70",vip1:"\u9177\u6211\u97f3\u4e50\u5305",vip2:"\u9177\u6211\u81f3\u5c0a\u97f3\u4e50\u5305",vip3:"\u9177\u6211\u81f3\u5c0a\u97f3\u4e50\u5305",vip4:"\u9177\u6211VIP",batch:"\u6279\u91cf\u8d2d\u4e70"};PROPERTIES.device={MY_DEVICE_UID:"",MY_VERSION_NAME:"",MY_SOURCE:""};PROPERTIES.logtrace={vipmCurrentVersion:"V20160519",pcCurrentVersion:"V0000",mboxCurrentVersion:"V1000",payCurrentVersion:"P20160720",abtest:{DEFAULT:"0",A:"1",B:"2",C:"3",D:"4"}};PROPERTIES.productType={vip_1:1,vip_2:2,vip_3:3,vip_4:7,vip_7:12};osUtils={flag:{FLAG_ME_ANDR:!1,FLAG_ME_IOS:!1,FLAG_ME_PC:!1,setIos:function(){this.FLAG_ME_IOS=!0},setAndroid:function(){this.FLAG_ME_ANDR=!0},setPC:function(){this.FLAG_ME_PC=!0}},property:{android:"an",ios:"ios",windows:"win",mac:"mac",pc:"pc"},getPlat:function(){if(this.flag.FLAG_ME_ANDR)return this.property.android;if(this.flag.FLAG_ME_IOS)return this.property.ios;if(this.flag.FLAG_ME_PC)return this.property.pc;var a=navigator.platform.toLowerCase();return 0<=a.indexOf("arm")||0<=a.indexOf("linux")?this.property.android:0<=a.indexOf("win")?this.property.windows:0<=a.indexOf("mac")?this.property.mac:0<=a.indexOf("iphone")||0<=a.indexOf("ipad")||0<=a.indexOf("ipod")?this.property.ios:a.substr(0,5)},isAndroid:function(){return this.flag.FLAG_ME_ANDR?!0:this.property.android==this.getPlat()},isIos:function(){return this.flag.FLAG_ME_IOS?!0:this.property.ios==this.getPlat()}};var nativeUtils={callNative:function(a){if(osUtils.isAndroid())try{window.KuwoInterface.jsCallNative(a)}catch(d){}else if(osUtils.isIos()){var b=eval("("+a+")"),c;c=document.createElement("iframe");c.style.display="none";document.documentElement.appendChild(c);c.src="kwip://kwplayerhd/"+b.action+"?param\x3d"+encodeURIComponent(a)}else try{window.KuwoInterface.jsCallNative(a)}catch(d){b=eval("("+a+")"),c=document.createElement("iframe"),c.style.display="none",document.documentElement.appendChild(c),c.src="kwip://kwplayerhd/"+b.action+"?param\x3d"+encodeURIComponent(a)}},arPlayMV:function(a,b,c,d){var e='{"action":"control_playmv","libpath":"","musiclist":[{"musicrid":"'+a+'","name":"'+b+'","formats":"'+c+'","artist":"'+d+'"}]}';c=c.replace(/\|/g,";");this.callNative('{"action":"control_playmv","libpath":"","musiclist":[{"mvid":"'+a+'","mvname":"'+b+'","mvquality":"'+c+'","artist":"'+d+'"}]}',e)},musicOption:function(a,b){var c="";"play"==a?c="control_playselect":"download"==a&&(c="control_downloadselect");c='{"action":"'+c+'","libpath":"","musiclist":'+b+"}";console.log(c);this.callNative(c)},arPlaySONG:function(a,b,c,d,e,f){this.callNative('{"action":"'+a+'","libpath":"","musiclist":[{"musicrid":"'+b+'","name":"'+c+'","formats":"'+f+'","artist":"'+d+'","album":"'+e+'"}]}')},tagDefine:function(){this.callNative('{"action":"pay_tag_define", "callback":"tagDefineCallBack"}')},supportClientPay:function(){this.callNative('{"action":"is_compatible_client_pay","callback":"supportCallback"}')},showLoginBox:function(){var a='{"action":"control_login", "callback":"loginsuccess"}';osUtils.isIos()&&!PROPERTIES.loginNew&&(a='{"action":"to_loginAndRegist"}');this.callNative(a)},getDeviceinfo:function(){this.callNative('{"action":"control_get_deviceinfo","pagetype":"def"}')},gotoPanel:function(a,b,c){if(!utils.isEmpty(a)){var d="",e="";osUtils.isIos()?("gs"==a?d="sys_goto_artist":"zj"==a?d="sys_goto_album":"gd"==a?d="sys_goto_songlist":"zq"==a?d="sys_goto_zhuanqu":"gm"==a&&(d="pay_goto_songs_purchased"),e='{"action":"'+d+'","persistentId":"'+b+'","title":"'+c+'"}'):"gs"==a?e='{"action":"goto_artist_page","artistid":"'+b+'","artistname":"'+c+'"}':"zj"==a?e='{"action":"goto_album_page","albumid":"'+b+'","name":"'+c+'"}':"gd"==a?e='{"action":"goto_playlist_page","pid":"'+b+'","name":"'+c+'"}':"zq"==a?e='{"action":"sys_goto_zhuanqu","persistentId":"'+b+'","title":"'+c+'"}':"gm"==a&&(e='{"action":"pay_goto_songs_purchased","persistentId":"'+b+'","title":"'+c+'"}');this.callNative(e)}},openUrl:function(a,b,c){a=-1<a.indexOf("?")?a+"\x26t\x3d"+Math.random():a+"?t\x3d"+Math.random();getKey(a,"refer")||(a=a+"\x26refer\x3d"+(getKey(window.location.href,"refer")||0));a=a.replace("https://",location.protocol+"//").replace("http://",location.protocol+"//");if("http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/testvip.kuwo.cn"==location.hostname||"http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/console.ecom.kuwo.cn"==location.hostname)a=a.replace("http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/vip1.kuwo.cn",location.hostname);b=returnSpecialChar(b);b='{"action":"control_inapp_url","url":"'+a+'","title":"'+b+'","pagetype":"'+(c||"")+'"}';if(-1<navigator.userAgent.indexOf("kuwopage"))this.callNative(b);else{try{if("object"==typeof deviceUtils&&"undefined"!=typeof deviceUtils.ver||"object"==typeof PROPERTIES.device&&"undefined"!=typeof PROPERTIES.device.MY_VERSION_NAME)return this.callNative(b),!1}catch(d){}window.location.href=a}},payFinished:function(){this.callNative('{"action":"pay_finished","callback":"", "success":"true"}')},setPageTitle:function(a){try{osUtils.isIos()?this.callNative('{"action":"set_title","title":"'+a+'"}'):window.KuwoInterface.set_title(a)}catch(b){}}},mboxNativeUtils={callClient:function(a){try{return window.external.callkwmusic(a)}catch(b){return""}},getUserInfo:function(){return this.callClient("UserState")},getVer:function(){return this.callClient("GetVer")},closePanel:function(){return this.callClient("CloseWindow")},getProductInfo:function(){return this.callClient("GetBuyInfo")},succNotify:function(a){var b="PayResult";a&&(b=b+"?type\x3d"+a);return this.callClient(b)},showLoginBox:function(){this.callClient("UserLogin?src\x3dlogin");return!1}},utils={_emptyString:"",isEmpty:function(a){return!a||0>=a.length},isNotEmpty:function(a){return!this.isEmpty(a)},loadJs:function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b)},logTrace:function(a){(new Image).src=PROPERTIES.projectname+"/pv/mobile"+a+".jpg"},logTracePc:function(a){(new Image).src=PROPERTIES.projectname+"/pv/pc"+a+".jpg"},subString:function(a,b,c){if(this.isEmpty(a))return"";for(var d=0,e="",f=/[^\x00-\xff]/g,g,h=a.replace(f,"**").length,k=0;k<h;k++){g=a.charAt(k).toString();null!=g.match(f)?d+=2:d++;if(d>b)break;e+=g}c&&h>b&&(e+="...");return e},getLength:function(a){for(var b=0,c=0;c<a.length;c++)var d=a.substr(c,1),b="%u"==escape(d).substring(0,2)?b+2:b+1;return b},numberMerge:function(a,b){this.isEmpty(a)&&(a="0");if(this.isNotEmpty(b)){var c=b-a.length;if(0<c){for(var d=this._emptyString,e=0;e<c;e++)d+="0";a=d+a}}return a},formatDate:function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes();a=a.getSeconds();return b+"/"+(10>c?"0"+c:c)+"/"+(10>d?"0"+d:d)+" "+(10>e?"0"+e:e)+":"+(10>f?"0"+f:f)+":"+(10>a?"0"+a:a)},formatDate1:function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();a.getHours();a.getMinutes();a.getSeconds();return b+"-"+(10>c?"0"+c:c)+"-"+(10>d?"0"+d:d)},formatDate2:function(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();a.getHours();a.getMinutes();a.getSeconds();return b+""+(10>c?"0"+c:c)+""+(10>d?"0"+d:d)},randomInt:function(){return 0==parseInt(10*Math.random())%2?1:2},randomInt2:function(a,b){return parseInt(Math.random()*(b-a)+a,10)},randomHeadPic:function(a){if(utils.isEmpty(a)||"-1"!=a.indexOf("secretb.gif"/*tpa=http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/secretb.gif*/)){a=utils.randomInt2(1,5);if(1>a||4<a)a=1;a="./img/defaultph"+a+".png"}return a},showLoading:function(){$("#id_mymask_loading").show();$("#id_div_progress").show()},hideLoading:function(){$("#id_mymask_loading").hide();$("#id_div_progress").hide()},showAlert:function(a){$("#id_p_dg_alert_text").text(a);$("#id_mymask").show();$("#id_div_dialog_alert").show()},hideAlert:function(){$("#id_p_dg_alert_text").text("alert");$("#id_mymask").hide();$("#id_div_dialog_alert").hide()},getUrlParams:function(){var a=location.href,b="";if(a&&0<a.length){var c=a.indexOf("?");-1!=c&&(b=a.substr(c+1,a.length))}return b},getParamValue:function(a,b){var c=a.match(new RegExp("(^|\x26)"+b+"\x3d([^\x26]*)(\x26|$)"));return null!=c?unescape(c[2]):null},getIEVersion:function(){var a=navigator.userAgent;return/msie/i.test(a)?a.match(/msie (\d+\.\d+)/i)[1]:~a.toLowerCase().indexOf("trident")&&~a.indexOf("rv")?a.match(/rv:(\d+\.\d+)/)[1]:!1},parseJSON:function(a){return eval("("+a+")")},validateJSONStr:function(a,b){try{eval("("+a+")")}catch(g){try{for(var c=a.split(""),d=c.length,e=0;e<d;e++)if(":"==c[e]&&'"'==c[e+1])for(var f=e+2;f<d;f++)if('"'==c[f])if(","!=c[f+1]&&"}"!=c[f+1])c[f]=b||'\\"';else if(","==c[f+1]||"}"==c[f+1])break;a=c.join("")}catch(h){}}return a}},LogTraceUtils={root:function(a){(new Image).src=PROPERTIES.projectname+"/pv/logtrace1.gif?"+a},getVersionParams:function(a,b){var c=b?b:"0",d="";try{d=$("#id_ip_cliAction").val()||VipData.property.cliAction}catch(f){d=""}var e="";try{e=(e=utils.getParamValue(utils.getUrlParams(),"newfromsrc"))?"\x26newfromsrc\x3d"+e:""}catch(f){e=""}return"myid\x3d"+PROPERTIES.timestamp+"\x26logver\x3d"+a+"\x26abtest\x3d"+c+"\x26pf\x3d"+osUtils.getPlat()+"\x26uid\x3d"+PROPERTIES.userinfo.uid+"\x26duid\x3d"+PROPERTIES.device.MY_DEVICE_UID+"\x26dvers\x3d"+PROPERTIES.device.MY_VERSION_NAME+"\x26fs\x3d"+d+e+"\x26page\x3d"+LogTraceUtils.pageType+"\x26source\x3d"+PROPERTIES.device.MY_SOURCE+"\x26pid\x3d"},logTest:function(a){this.root("logtest\x3d"+a)},doInit:function(a,b){var c="action\x3dinit\x26"+this.getVersionParams(a,b);this.root(c)},doDeviceVersionInit:function(a,b){var c="action\x3ddvcinit\x26"+this.getVersionParams(a,b);this.root(c)},doFromSrcInit:function(a,b,c){a="action\x3d"+a+"\x26"+this.getVersionParams(b,c);this.root(a)},doPayBtnClick:function(a,b){var c="action\x3dpayBtnClick\x26"+this.getVersionParams(a,b);this.root(c)},doPcPayBtnClick:function(a,b,c,d){a="action\x3dpayBtnClick\x26"+("vipType\x3d"+c+"\x26autoPay\x3d"+d)+"\x26"+this.getVersionParams(a,b);this.root(a)}},cookieUtis={getCookie:function(a){a+="\x3d";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return unescape(d.substring(a.length,d.length))}return!1},clearCookie:function(a){setCookie(a,"",-1)},setCookie:function(a,b,c){c=c||0;var d="";0!=c&&(d=new Date,d.setTime(d.getTime()+1E3*c),d="; expires\x3d"+d.toGMTString());document.cookie=a+"\x3d"+escape(b)+d+"; path\x3d/"}},PatchUtils={initObjectKey:function(){Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=c.length;return function(e){if("object"!==typeof e&&"function"!==typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[],g;for(g in e)a.call(e,g)&&f.push(g);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&f.push(c[g]);return f}}())}};function getHashCode(a){var b=0,c=a.length;if(0==c)return b;for(i=0;i<c;i++){var d;d=a.charCodeAt(i);b=(b<<5)-b+d;b&=b}0>b&&(b=-b);return b}function getImgNumber(a){a=getHashCode(a+PROPERTIES.device.MY_DEVICE_UID)%10+1;5<=a?a=8<=a?4:3:2<=a&&(a=2);return a}function getPic(a,b,c,d){a=a||"";var e=location.protocol+"//kwimg"+getImgNumber(a)+".kuwo.cn/star/";"album"==b?e+="albumcover":"artist"==b&&(e+="starheads");e=e+"/"+a.replace(c+"/",d+"/");-1<a.indexOf("http")&&(e=a.replace(c+"/",d+"/"));return e}function getMusicObj(a){var b={};b.id=a.MUSICRID.replace("MUSIC_","");b.name=a.SONGNAME;b.artist=a.ARTIST;b.album=a.ALBUM;b.formats=a.FORMATS;b.pay=a.PAY;b.psrc=a.psrc||"";return b}function musicListOption(a,b,c){var d="[";$.each(b,function(a,b){1<=a&&(d+=",");d+='{"musicrid":"'+b.id+'","name":"'+returnSpecialChar(b.name)+'","formats":"'+b.formats+'","artist":"'+returnSpecialChar(b.artist)+'","album":"'+returnSpecialChar(b.album)+'","pay":"'+b.pay+'","psrc":"'+(c||b.psrc)+'"}'});d+="]";0<b.length&&nativeUtils.musicOption(a,d)}try{var initImgLazyLoad=function(){var a=function(){$(".lazy-load"http://vip1.kuwo.cn/vip/added/_source/js/app/root/pro/).imglazyload();$.fn.imglazyload.detect()};window.Vue?Vue.nextTick(function(){a()}):a()};Vue.filter("name",function(a){return showSpecialChar(a)})}catch(a){}function showSpecialChar(a){return(a||"").replace(/&nbsp;/g," ").replace(/\&amp;/g,"\x26").replace(/&apos;/g,"'").replace(/\&quot;/g,'"').replace(/\%26apos\%3B/g,"'").replace(/\%26quot\%3B/g,'"').replace(/\%26amp\%3B/g,"\x26").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e")}function returnSpecialChar(a){return(""+a).replace(/\&amp;/g,"\x26").replace(/\&nbsp;/g," ").replace(/\&apos;/g,"'").replace(/\&quot;/g,'\\"').replace(/\%26apos\%3B/g,"'").replace(/\%26quot\%3B/g,'\\"').replace(/\%26amp\%3B/g,"\x26").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e").replace(/\t/g,"")}function imgOnError(a,b){a.onerror=null;a.src=1===b?location.protocol+"//image.kuwo.cn/newvip/vipzone/v1/error_banner.png":2===b?location.protocol+"//image.kuwo.cn/newvip/vipzone/v1/error_ost.png":location.protocol+"//image.kuwo.cn/newvip/vipzone/v1/error_common.png"}function getKey(a,b){a=a.toString();0<=a.indexOf("#")&&(a=a.substring(0,a.indexOf("#")));var c="",d=a.indexOf(b+"\x3d");if(0<=d){var d=a.substring(d+b.length+1),e=d.indexOf("\x3d");0<=e?(d=d.substring(0,e),e=d.lastIndexOf("\x26")):e=d.length;if(0<=e)try{c=decodeURIComponent(d.substring(0,e))}catch(f){c=d.substring(0,e)}else try{c=decodeURIComponent(d)}catch(f){c=d}}return c};